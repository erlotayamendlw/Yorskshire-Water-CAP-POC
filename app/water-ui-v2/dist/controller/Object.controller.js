sap.ui.define(["sap/ui/core/mvc/Controller"],function(e,t,n,i){"use strict";return e.extend("wateruiv2.controller.Object",{formatter:i,onInit:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.getRoute("Object").attachPatternMatched(this._onObjectMatched,this)},onNavBack:function(){var e=n.getInstance().getPreviousHash();if(e!==undefined){history.go(-1)}else{this.getRouter().navTo("worklist",{},true)}},_onObjectMatched:function(e){var t=e.getParameter("arguments").objectId;this.getModel().metadataLoaded().then(function(){var e=this.getModel().createKey("Products",{ProductID:t});this._bindView("/"+e)}.bind(this));var n=this.getView().getModel();n.setProperty("/currentObjectId",t)},_bindView:function(e){var t=this.getModel("objectView"),n=this.getModel();this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){n.metadataLoaded().then(function(){t.setProperty("/busy",true)})},dataReceived:function(){t.setProperty("/busy",false)}}})},_onBindingChange:function(){var e=this.getView(),t=this.getModel("objectView"),n=e.getElementBinding();if(!n.getBoundContext()){this.getRouter().getTargets().display("objectNotFound");return}var i=this.getResourceBundle(),o=e.getBindingContext().getObject(),r=o.ProductID,a=o.ProductName;t.setProperty("/busy",false);t.setProperty("/shareSendEmailSubject",i.getText("shareSendEmailObjectSubject",[r]));t.setProperty("/shareSendEmailMessage",i.getText("shareSendEmailObjectMessage",[a,r,location.href]))},viewRec:function(e){return e}})});
//# sourceMappingURL=Object.controller.js.map